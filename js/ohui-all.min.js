function mouseTouchStop(t,i,n){let a;function s(){return setTimeout(function(){"function"==typeof n&&n.call(t[0])},i)}"function"==typeof i?(n=i,i=2e3):"number"!=typeof i&&(i=2e3),a=s(),t.on("mouseenter",function(){clearTimeout(a)}),t.on("mouseleave",function(){a=s()})}function loadingOpen(t){let i;i=t?'<div class="ohui-loading-wrap"><div class="ohui-middle-box"><span class="loading-box">'+t+"…</span></div></div>":'<div class="ohui-loading-wrap"><div class="ohui-middle-box"><span class="loading-box">页面加载中…</span></div></div>',$("body").append(i)}function loadingClose(){$(".ohui-loading-wrap").remove()}function messageOpen(t,i){let n="",a="";t||(t="这是一条信息"),i&&"success,error,warning,prompt,help".split(",").indexOf(i)>-1&&(a=i);let s=$(n+='<div class="ohui-message"><span class="text-box '+a+'">'+t+"</span></div>").appendTo($("body")).animateCss("fadeInDown");mouseTouchStop(s.find(".text-box"),function(){messageClose(s)})}function messageClose(t){t.animateCss("fadeOutUp",function(){$(this).remove()})}function messageBoxOpen(t,i,n){var a='  <div class="ohui-popBox-bg">\n    <div class="ohui-message-box">\n      <div class="ohui-message-box-header">\n        <span class="h2">{{title}}</span>\n        <button class="close-btn" onclick="messageBoxClose(this)">\n          <span class="ohui-icon ohui-icon-close" title="关闭"></span>\n        </button>\n      </div>\n      <div class="ohui-message-box-body">{{content}}</div>\n      <div class="ohui-message-box-footer">\n        <div class="btn-box push-right">\n          <button class="ohui-btn-default" id="messageBoxConfirmBtn">\n            <span class="btn-text">确定</span>\n            <span class="ohui-icon ohui-icon-ok"></span>\n          </button>\n          <button class="ohui-btn-default" onclick="messageBoxClose(this)">\n            <span class="btn-text">取消</span>\n            <span class="ohui-icon ohui-icon-cancel"></span>\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>',s={title:t,content:i};Object.keys(s).forEach(function(t){a=a.replace("{{"+t+"}}",s[t])});$(a).appendTo($("body"));$(".ohui-message-box").animateCss("fadeInDown"),$("#messageBoxConfirmBtn").on("click",function(t){"function"==typeof n&&n.call($(".ohui-message-box-body")[0]),messageBoxClose(this)})}function messageBoxClose(t){$(".ohui-message-box").animateCss("fadeOutUp",function(){$(t).parents(".ohui-popBox-bg").remove()})}function textTip(){$("[data-text-tip]").on("mouseenter",function(t){var i=this,n=$(i).attr("data-text-tip"),a=$('<span class="ohui-text-tip">'+n+"</span>").appendTo($("body")).css({left:$(i).offset().left+"px",top:$(i).offset().top+"px",marginLeft:function(){return-($(this).outerWidth()-$(i).outerWidth())/2+"px"},marginTop:"-34px"}).animateCss("fadeIn");$(i).on("mouseleave",function(){mouseTouchStop(a,1e3,function(){$(this).animateCss("fadeOut",function(){$(this).remove()})})})})}$.fn.extend({animateCss:function(t,i,n){"function"==typeof i?(n=i,i="fast"):void 0===i&&(i="fast");var a=function(t){var i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(var n in i)if(void 0!==t.style[n])return i[n]}(document.createElement("div"));return this.addClass("animated "+i+" "+t).one(a,function(){$(this).removeClass("animated "+i+" "+t),"function"==typeof n&&n.call(this)}),this}}),function(t,i,n,a){function s(i,n){this.$select=i,this.defaults={array:[],value:"",callback:null},this.options=t.extend({},this.defaults,n)}s.prototype={constructor:s,init:function(){return this.$input=this.$select.find("input"),this.$icon=this.$select.find(".ohui-icon"),this.generateItems(this.options.array),this.bindEvents(),this.autoSelect(this.options.value,this.options.array),this.$select},bindEvents:function(){let i=this;i.$icon.on("click",function(n){t(".ohui-select-box").removeClass("show"),i.$selectBox.addClass("show"),i.setFocus(),n.stopPropagation()}),i.$select.find(".ohui-select-box").on("click","li",function(n){i.$input.val(t(this).text()),i.$selectBox.removeClass("show"),i.setFocus(),t(this).addClass("active").siblings().removeClass("active"),i.options.callback&&"function"==typeof i.options.callback&&i.options.callback(t(this)),n.stopPropagation()}),i.$input.on("click",function(t){t.stopPropagation()}),t(n).on("click",function(t){i.$selectBox.removeClass("show")})},generateItems:function(i){let n=i.reduce(function(t,i){return t+'<li data-id="'+i.id+'">'+i.text+"</li>"},"");this.$selectBox=t('<ul class="ohui-select-box">'+n+"</ul>").appendTo(this.$select)},setFocus:function(){this.$input.focus()},autoSelect:function(t,i){var n=this.findIndexOfArrs(t,i),a=this.$select.find(".ohui-select-box li").eq(n);a.addClass("active"),this.$input.val(a.text()),this.$input.blur()},findIndexOfArrs:function(t,i){var n=0;return i.forEach(function(i,a){n>0||i.text===t&&(n=a)}),n}},t.fn.ohuiSelect=function(t){return new s(this,t).init()}}(jQuery,window,document),$.fn.extend({tabsChange:function(t){var i=this.find(".ohui-tabs-head > li"),n=this.find(".ohui-tabs-body > li");i.on("click",function(i){var a=$(this).index();$(this).addClass("active").siblings().removeClass("active"),n.eq(a).show().siblings().hide(),"function"==typeof t&&t.call(this,a)}),i.eq(0).click()},breadCrumbs:function(t){var i,n='<span class="ohui-breadCrumbs-item {{active}}">\n          <a class="text" href="{{href}}">{{text}}</a>\n          <span class="separator">'+(t=$.extend({},{separator:"/",navs:[]},t)).separator+"</span>\n        </span>";return i=t.navs.reduce(function(t,i){var a=n;return["active","href","text"].forEach(function(t,n){i[t]||"href"!==t?i[t]||"active"!==t||(i.href&&"#"!==i.href?i[t]="active":i[t]=""):i[t]="#",a=a.replace("{{"+t+"}}",i[t])}),t+=a},""),this.append(i)}}),function(t,i,n,a){function s(t,i){var n="";switch(t){case"header":n+='<li class="header">'+i.name+"</li>";break;case"menus":n+=i.reduce(function(t,i){return i.childs&&i.childs.length>0?t+=s("submenu",i):t+=s("node",i),t},"");break;case"submenu":n+='<li class="treeview"><a href="#">',i.menuImage?n+='<i class="fa fa-'+i.menuImage+'"></i> <span>'+i.name+"</span>":n+='<i class="fa fa-folder-o"></i> <span>'+i.name+"</span>",n+='<i class="fa fa-angle-right pull-right"></i></a>',n+='<ul class="treeview-menu">',n+=i.childs.reduce(function(t,i){return t+=s("node",i)},""),n+="</ul></li>";break;case"node":n+="<li>",i.action?n+='<a href="'+i.action+'">':n+='<a href="#">',i.menuImage?n+='<i class="fa fa-'+i.menuImage+'"></i>':n+='<i class="fa fa-circle-o"></i>',n+="<span>"+i.name+"</span></a></li>"}return n}t.fn.sidebarMenu=function(i){var n=t.extend({},{data:[],animationSpeed:300},i),a=t(function(t){var i="";return'<div class="ohui-sidebar"><ul class="sidebar-menu">'+(i+=t.data.reduce(function(t,i){return t+=s("header",i),t+=s("menus",i.childs)},""))+"</ul></div>"}(n)).appendTo(this);return a.on("click","li a",function(i){var a=t(this),s=a.next();if(s.length){if(s.is(".treeview-menu")&&s.is(":visible"))s.slideUp(n.animationSpeed,function(){s.removeClass("menu-open")}),s.parent("li").removeClass("opened");else if(s.is(".treeview-menu")&&!s.is(":visible")){a.parents("ul").first();var e=a.parent("li");s.slideDown(n.animationSpeed,function(){s.addClass("menu-open")}),e.addClass("opened")}s.is(".treeview-menu")&&i.preventDefault()}else{var o=a.parent("li"),u=o.parent("ul");u.is(".sidebar-menu")?(u.find(".active").removeClass("active"),o.addClass("active")):(o.addClass("active").siblings().removeClass("active"),u.parent("li").siblings(".active").removeClass("active"),u.parent("li").siblings().find(".active").removeClass("active"))}n.callback&&"function"==typeof n.callback&&(i.preventDefault(),n.callback.call(this))}),function(){var t=a.find("li a").first();if(t.click(),t.attr("href")&&"#"===t.attr("href")){var i=t.parent().find("li a").first();i.attr("href")&&"#"!==i.attr("href")&&i.click()}}(),this}}(jQuery,window,document),function(t,i,n,a){function s(i,n){this.outer=i,this.defaults={defaultText:{province:"—— 省 ——",city:"—— 市 ——",area:"—— 区 ——"}},this.options=t.extend({},this.defaults,n),this.init()}s.prototype={constructor:s,init:function(){let t=this.outer.find("label.ohui-input-box");this.$province=t.eq(0),this.$city=t.eq(1),this.$area=t.eq(2),this.provinces=this.getJsonDatas("../json/districtPick/province.json"),this.cities=this.getJsonDatas("../json/districtPick/city.json"),this.areas=this.getJsonDatas("../json/districtPick/area.json"),this.initOptions()},getJsonDatas:function(i){let n;return t.ajax({async:!1,url:i,success:function(t){n=t}}),n},initOptions:function(){var t=this;t.addSelects(t.$province,t.provinces,t.options.defaultText.province,function(i){var n=i.attr("data-id"),a=i.text();t.addSelects(t.$city,t.cities[n],t.options.defaultText.city,function(i){var n=i.attr("data-id"),s=i.text();t.addSelects(t.$area,t.areas[n],t.options.defaultText.area,function(i){i.attr("data-id");var n=i.text();"function"==typeof t.options.callback&&t.options.callback.call(i,a,s,n)})}),t.addSelects(t.$area,[],t.options.defaultText.area)}),t.addSelects(t.$city,[],t.options.defaultText.city),t.addSelects(t.$area,[],t.options.defaultText.area)},addSelects:function(t,i,n,a){t.find(".ohui-select-box").remove(),t.ohuiSelect({array:this.formatDatas(i,"id","name",n),callback:a})},resetOptions:function(t,i){t.html("<option>"+i+"</option>")},appendOptions:function(t,i,n){let a=i.reduce(function(t,i){return t+='<option value="'+i.id+'">'+i.name+"</option>"},"<option data-default>"+n+"</option>");t.html(a)},provinceChange:function(){let i=this;i.$province.on("change",function(n){let a=t(this).val();i.appendOptions(i.$city,i.cities[a],i.options.defaultText.city),i.resetOptions(i.$area,i.options.defaultText.area)})},cityChange:function(){let i=this;i.$city.on("change",function(){let n=t(this).val();i.appendOptions(i.$area,i.areas[n],i.options.defaultText.area)})},formatDatas:function(t,i,n,a){var s;return(s=t?t.map(function(t){return{id:t[i],text:t[n]}}):[]).splice(0,0,{id:"",text:a}),s}},t.fn.ohuiDistrictPick=function(t){return new s(this,t).init()}}(jQuery,window,document);